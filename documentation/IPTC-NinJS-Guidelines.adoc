= image:iptc_sv_gradient_70x70.jpg[IPTC logo] NinJS User Guide
keywords: iptc, news, story, article, media, json, javascript, markup, schema, metadata,
:doctype: html5
:imagesdir: ./images
:includedir: ./includes
:stylesdir: stylesheets/
:stylesheet: asciidoctor-iptc-stds-02.css
:source-highlighter: highlight.js
:source-language: asciidoc
:icons: font
:author: IPTC News in JSON Working Group
:email: office@iptc.org
:version-label: Covers version
:revnumber: 2.1 and 1.5
:revremark: Revised 2023-06-27
:toc: left
:toc-title: ninjs User Guide
:toclevels: 2
:nofooter:
:sectnums:
:sectanchors:
:sectnumlevels: 3

== Introduction: ninjs is News in JSON

ninjs standardises the representation of news content in JSON, a lightweight,
easy-to-parse data interchange format. 

We have identified key properties and structures required to represent news and
publishing information, and crafted JSON representations that are designed to
result in lightweight instance documents. While keeping it simple, we have been
careful to map ninjs concepts to the IPTC News Architecture, so you can rest
assured that ninjs concepts can interoperate with other markup languages such
as https://iptc.org/standards/newsml-g2/[NewsML-G2].

We have created some tools to help get users started. These include a
https://www.iptc.org/std/ninjs/generator/[simple ninjs generator] that shows
how easily a real ninjs document can be created, and a <<Validating a ninjs document,JSON schema to validate ninjs objects>>.

The latest version of the standard is 2.1. 
https://iptc.org/std/ninjs/ninjs-schema_2.1.json[Version 2.1 of the ninjs
schema] was made available in June 2023.

The latest version in the 1.x branch is 1.5, which was made avaialble in June 2023.
See below for more information on the <<Differences between ninjs 1.x and 2.x,differences between the 1.x and 2.x branches>>.

=== Built for both APIs and data at rest

In creating ninjs, we focused on two main use cases:

. *Data interchange - such as via APIs*
* ninjs documents can be very concise, allowing for the inclusion of just the
most important properties - such as byline, headline, and body text - as
determined by a given provider.
* ninjs allows the provider to indicate whether there are more properties
available, if the recipient would like to request more, using the
`representationtype: "partial"` construct.
* Starting from version 2.0, the ninjs schema has been created in such a way
that it can easily be converted into a schema for a binary data serialisation
protocol such as https://developers.google.com/protocol-buffers[Protocol
Buffers], https://avro.apache.org/[Avro], https://thrift.apache.org/[Thrift] or
https://cbor.io/[CBOR] / https://datatracker.ietf.org/doc/html/rfc8610[CDDL]. We
include a Protocol Buffers schema as an example.
. *Data at rest - such as in search engines or content management systems*
* ninjs documents can convey a rich set of news publishing properties, such as
information that is necessary for the pre-publishing workflow or custom
properties that a particular provider wants to express in a standard way.
* ninjs is designed to be customisable by a particular provider, so that they
can express just what they require, without unnecessary overhead. Ninjs is
suitable for use in JSON-native engines, such as
http://www.mongodb.org/[MongoDB] or
http://www.elasticsearch.org/[Elasticsearch].

=== ninjs data model in a nutshell

As the below diagram shows, every ninjs object describes a *News Item*. All
ninjs items must have a unique ID given by a *URI*. They can have administrative
metadata, describing who created the news item and when, descriptive metadata
describing *people*, *places*, *genres*, *subjects*, *organisations* and
*events* related to the news item.

The content itself can be a *body*, containing text, HTML or other
representation of the text of a news item, *renditions* of the news item as
images, videos or multimedia, or both body and renditions. *Associations* are a
means of linking news items together.

image:ninjsScope-w800.jpg[ninjs Data Model diagram]

=== ninjs object building blocks

image:ninjsillustration.jpg[ninjs Object Building Blocks diagram]

=== A simple example
ninjs can be very simple. This is an example of something that might be returned
by an API call.

[source,json]
----
include::includes/examples/001_simple_example.json[]
----

You can make your own simple ninjs document using the
https://www.iptc.org/std/ninjs/generator/[ninjs generator tool on iptc.org].

=== Two versions of ninjs: ninjs 1.5 and ninjs 2.1

IPTC manages two current versions of ninjs: the 2.x branch (where the latest
version is 2.1) and the 1.x branch (where the latest version is currently
1.5).

The 1.x series continues the version of ninjs that started with ninjs 1.0 in
2013, adding new features in a way that is fully backwardscompatible. The
latest release in this series is 1.5, which includes new properties such as
`contactinfo`, `symbol` and `symboltype` (<<ninjs 1.5,see the full list of
changes>>). 

The 2.x series fixes some issues that made the 1.x series tricky for some
developers to work with. The main change is that ninjs 2.x avoids the use of
patternProperties, so all properties now have well-defined names. This change
is intended to make ninjs easier for projects based on binary protocols such as
Protocol Buffers and Avro. We also took the opportunity to make property names
more consistent with NewsML-G2 and to add some fields to handle rights.

We wanted to issue a new release which fixed these problems, but this meant
breaking backwards compatibility with the 1.x versions of ninjs.  This is why
we decided to maintain two parallel branches: 1.x and 2.x.

All new users are strongly recommended to use version 2.1.

The 2.1 and 1.5 versions of ninjs were approved by the IPTC Standards Committee
on May 17th, 2023.

This document focuses on the 2.1 version, but those who must use version 1.5
for backwards compatibility reasons can find the JSON Schema file for ninjs 1.5
schema at https://iptc.org/std/ninjs/ninjs-schema_1.5.json.

=== Differences between ninjs 1.x and 2.x

We maintain the 1.x branch for those who can't move to the new structure in 2.0.
Most of the properties are the same as the ones in ninjs 2.x, with the exception
of the multi-valued properties.

==== patternProperties converted to arrays

Some properties are implemented as "patternProperties" in the 1.x JSON Schema,
which means that the name must start with a certain text string (such as `headline_`) but can end in any string (such as `subhead`).
This can be used to distinguish objects from each other. In the 2.x version of the schema,
we converted them to be simple arrays with well-defined names, and a `role` property
that defines the type of the value.

For example, a subheadline is defined in ninjs 1.x as

[source,ninjs 1.x JSON]
----
{
  "headline_subhead": "My subheadline"
}
----

The same subheadline would be defined in ninjs 2.x as

[source,ninjs 2.x JSON]
----
{
  "headlines": [
    {
      "role": "subhead",
      "value": "My subheadline"
    }
  ]
}
----

This applies to the following properties:

*  `description_XXX` (1.x) / `descriptions` (2.x)
* `body_XXX` (1.x) / `bodies` (2.x)
* `headline_XXX` (1.x) / `headlines` (2.x)

==== Renditions and Associations converted to arrays

The `renditions` and `associations` properties are arrays in ninjs 2.x and objects in ninjs 1.x.

In ninjs 1.x a rendition may look like the following:

[source,ninjs 1.x JSON]
----
{
  "renditions": {
    "highres": {
      ...
    }
  }
}
----

The same rendition in ninjs 2.x would look like:

[source,ninjs 2.x JSON]
----
{
  "renditions": [
    {
      "name": "highres",
      ...
    }
  ]
}
----

Associations work the same way in both ninjs 1.x and ninjs 2.x.

==== Property names converted to plural form

In addition, the following property names were converted to plural form for ninjs 2.x.
They were not changed in any other way.

* `altid` (ninjs 1.x) / `altids` (ninjs 2.x)
* `event` (ninjs 1.x) / `events` (ninjs 2.x)
* `genre` (ninjs 1.x) / `genres` (ninjs 2.x)
* `infosource` (ninjs 1.x) / `infosources` (ninjs 2.x)
* `object` (ninjs 1.x) / `objects` (ninjs 2.x)
* `organisation` (ninjs 1.x) / `organisations` (ninjs 2.x)
* `person` (ninjs 1.x) / `people` (ninjs 2.x)
* `place` (ninjs 1.x) / `places` (ninjs 2.x)
* `subject` (ninjs 1.x) / `subjects` (ninjs 2.x) and
* `trustindicator` (ninjs 1.x) / `trustindicators` (ninjs 2.x).

=== Which version of ninjs should I choose for my project?

If you are starting a green-field project, we recommend using the latest
version in the ninjs 2.x branch: currently ninjs 2.1.  This version should be
easiest for developers to work with.

If you are already using a 1.x version of ninjs, we recommend at least
upgrading to the latest version in the 1.x branch, currently 1.5. This should
be an easy change, because 1.5 is backwards-compatible with earlier 1.x versions.

=== ninjs and other standards

JSON is an increasingly popular
http://blog.programmableweb.com/2011/05/25/1-in-5-apis-say-bye-xml/[alternative to]
(or
http://blog.appfog.com/why-json-will-continue-to-push-xml-out-of-the-picture/[replacement for]) XML. ninjs is designed in such a way that it can be used either standalone or alongside other https://iptc.org/standards/[IPTC news markup formats] such as https://iptc.org/standards/newsml-g2/[NewsML-G2], https://iptc.org/standards/nitf/[NITF]
https://iptc.org/standards/iptc-7901/[IPTC7901] and https://iptc.org/standards/rnews/[rNews].

== About the IPTC ninjs User Guide

=== Copyright

Copyright © 2023 IPTC, International Press Telecommunications Council.

The IPTC ninjs User Guide document is published under the 
http://creativecommons.org/licenses/by/4.0/[Creative Commons Attribution 4.0 license]
- see the full license agreement at http://creativecommons.org/licenses/by/4.0/.

By obtaining, using and/or copying this document, you (the licensee) agree that you have read, understood, and will comply with the terms and conditions of the license.

Materials used in this guide are either in the public domain or are available with the permission of their respective copyright holders. All materials of this IPTC standard covered by copyright shall be licensable at no charge.

=== Acknowledgements

This document is the result of a team effort by members of the News in JSON Working Group of the International Press Telecommunications Council (IPTC), with input and assistance from other contributors.

Contributors to this document include:
Paul Harman (Bloomberg),
Johan Lindgren (TT),
Stuart Myles (ex-AP), 
Brendan Quinn (IPTC),
Michael Steidl (IPTC),
Evan Sandhaus (ex-NYT), and
Ian Young (PA Media / Alamy),

=== How to contact IPTC

All users of ninjs are encouraged to Join the public IPTC ninjs discussion group: https://groups.io/g/iptc-ninjs/

Staff from IPTC Member organisations are welcome to join the 
https://groups.io/g/iptc-news-in-json-dev[members-only discussion list for the
ninjs development team].

For questions, comments or suggestions, you can raise an issue on our public
GitHub repository: https://github.com/iptc/newsinjson/issues

You can also submit a message on our website: https://iptc.org/about-iptc/contact-us/

Visit the ninjs section on IPTC's website: https://iptc.org/standards/ninjs/

To stay up to date on developments with ninjs and other areas, follow IPTC on Twitter: http://www.twitter.com/IPTC/[@IPTC]

=== About IPTC

The IPTC, based in London, brings together the world’s leading news agencies, publishers and industry vendors. It develops and promotes efficient technical standards to improve the management and exchange of information between content providers, intermediaries and consumers. The standards enable easy,
cost-effective and rapid innovation and include the IPTC Photo Metadata standard, the Video Metadata Hub, the news exchange formats NewsML-G2, ninjs, SportsML-G2 and NITF, rNews for marking up online news, the rights expression language RightsML, and NewsCodes taxonomies for categorising news.

IPTC is a not-for-profit membership organisation registered in England. https://iptc.org/participate/[Find more about membership].

Business address:

 IPTC International Press Telecommunications Council
 25 Southampton Buildings
 London WC2A 1AL
 United Kingdom

== ninjs in Detail

Here we document each property that can be used in a ninjs object.

The "uri" property is *required* at the top level. In some array objects, other properties may be required.

=== Administrative properties

These properties concern the structure, type and creation details of the content.

[%autowidth,options="header"]
|===
|Property|Description|Data type

|uri
|The identifier for this news object
|URI

|type
|The generic news type of this news object
| One of: +
`text` +
`audio` +
`video` +
`picture` +
`graphic` +
`composite` +
`component`

|title
|A short natural-language name for the item.
|string

|standard
a|An object with information about standard, version and schema this instance is valid against. +
This property is an object with the following child properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the standard, such as `ninjs`.
!string

!version
!The version of the standard used, such as `2.1`.
!string

!schema
!The uri of the JSON schema to use for validation, such as `https://www.iptc.org/std/ninjs/ninjs-schema_2.1.json`
!URI

!===

|object

|altids
a|Alternative identifiers for the item. It is up to the individual provider to
name and set type on the alternative identifiers they like to use. +
This property is an object with the following child properties: +

[cols="3"]
!===
!Property name!Description!Data type

!role
!The role of the alternative id (such as "internal")
!string

!value
!The alternative id value
!string

!===

|array of objects

|representationtype
|Indicates the completeness of this representation of a news item. +
For a full document representation, the value should be `full`. +
For a partial representation, for example a short extract provided as the results of an API call, the value `partial` should be used.
|
One of: +
`full` +
`partial`

|profile
|An identifier for the structure of the news object. This can be any string but we suggest something identifying the structure of the content such as `'text-only'` or `'text-photo'`. Profiles are typically provider-specific.
|string

|version
|The version of the news object which is identified by the uri property.
|string

|firstcreated
|Indicates when the first version of the item was created.
|date-time

|versioncreated
|The date and time when this version of the news object was created.
|date-time

|contentcreated
|The date and time when the content of this ninjs object was originally created.
|date-time

|embargoed
|The date and time before which all versions of the news object are embargoed. If absent, this object is not embargoed.
|date-time

|expires
|The date and time after which the Item is no longer considered editorially relevant by its provider. nar:expires (Added in ninjs 2.1)
|date-time

|pubstatus
|The publishing status of the news object, its value is `usable` by default.
|One of: +
`usable` +
`withheld` +
`canceled`

[[urgency]]
|urgency
|The editorial urgency of the content from 1 to 9. 1 represents the highest urgency, 9 the lowest.
|number

|ednote
|A note that is intended to be read by internal staff at the receiving organisation, but not published to the end-user.
|string

|language
|The human language used by the content. The value should follow https://tools.ietf.org/html/bcp47[IETF BCP47] format.
|string

|===

=== Rights properties

[%autowidth,options="header"]
|===
|Property|Description|Data type

|copyrightholder
|The person or organisation claiming the intellectual property for the content.
|string

|copyrightnotice
|Any necessary copyright notice for claiming the intellectual property for the content.
|string

|usageterms
|A natural-language statement about the usage terms pertaining to the content.
|string

|rightsinfo
a|An expression of rights to be applied to the content. +
 +
This property is an object with the following child properties: +

[cols="3"]
!===
!Property name!Description!Data type

!langid
!Identifier for the used Rights Expression language.
!uri

!linkedrights
!A link from the current Item to Web resource with rights related information.
!uri

!encodedrights
!Contains a rights expression as defined by a Rights Expression Language.
!string

!===
For each array element under rightsinfo, one of either `linkedrights` or `encodedrights` is *required*.

|Array of objects

|string
|===

=== Editorial properties

Properties representing the actual story that will be shown to the audience.

[%autowidth,options="header"]
|===
|Property|Description|Data type

|headlines
a|Array of objects containing various types of headlines. +
 +
This property is an object with the following child properties: +

[cols="3"]
!===
!Property name!Description!Data type

!role
!The role of this headline
!string

!contenttype
!The https://www.iana.org/assignments/media-types/media-types.xhtml[IANA (Internet Assigned Numbers Authority) Media Type] of the content of this headline. (Previously known as MIME Type.)
!string

!value
!The headline identified with the above role and contenttype. Required in each object in the array.
!string

!===

|Array of objects

|slugline
|A human-readable identifier for the item.
|string

|by
|The name(s) of the creator(s) of the content
|string

|bodies
a|An array of body objects with the content as text or with markup. +
 +
This property is an object with the following child properties: +

[cols="3"]
!===
!Property name!Description!Data type

!role
!The role of this body
!string

!contenttype
!The https://www.iana.org/assignments/media-types/media-types.xhtml[IANA (Internet Assigned Numbers Authority) Media Type] of the content of this body. (Previously known as MIME Type.)
!string

!value
!The headline identified with the above role and contenttype. *Required* to exist in each array item.
!string

!charcount
!The total character count in the article excluding figure captions.
!number

!wordcount
!The total number of words in the article excluding figure captions.
!number

!===

|Array of objects

|descriptions
a|An array of one or more descriptions of the ninjs object. See also ednote
for information from provider to reciever. Descriptions are seen as metadata.

This property is an object with the following child properties: +

[cols="3"]
!===
!Property name!Description!Data type

!role
!The role of this description
!string

!contenttype
!The https://www.iana.org/assignments/media-types/media-types.xhtml[IANA (Internet Assigned Numbers Authority) Media Type] of the content of this description. (Previously known as MIME Type.)
!string

!value
!The descriptive text identified with the above role and contenttype. Required in each object in the array.
!string

!===

|Array of objects

|===

=== Metadata properties

ninjs allows content to be marked up with one simple string-based metadata property `located`, plus several rich metadata properties that can link to pre-defined controlled vocabularies describing people, organisations, places subjects, objects and events.

[cols="1,3a,1",options="header"]
|===
|Property name|Description|Data type

|located
a|The name of the location from which the content originates.

NOTE: See also `places` for locations which are mentioned in the content.

|string

|genres
a|The nature, intellectual or journalistic form of the content. +

This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The human-readable name of the genre, such as `Press Release`.
!string

!uri
!The identifier of the genre as a complete uri
!URI

!literal
!The code for the genre as a string literal
!string

!===

|array

|people
| An array of objects describing individual human beings. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of a person
!string

!rel
!The relationship of the content of the news object to the person
!string

!uri
!The identifier for the person as a complete uri with the code.
!URI

!literal
!The code for the person as a literal value.
!string

!contactinfo
!Contact and/or location information for the person as a ContactInfo structure.
!<<Contact Info structure>>

!===

|array

|organisations
|An array of objects describing administrative and functional structures which may act as as a business, as a political party or not-for-profit party. +
This property is an array of objects with the following properties: +

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the organisation
!string

!rel
!The relationship of the content of the news object to the organisation
!string

!uri
!The identifier of the organisation as a complete uri
!URI

!literal
!The code for the organisation as a literal
!string

!symbols
a!Symbols used for a financial instrument linked to the organisation at a specific market place. +
Array of objects with the properties:

* `exchange`: Identifier for the marketplace which uses the ticker symbols of the ticker property (string)
* `symboltype`: URI describing the type of the symbol. The CV http://cv.iptc.org/newscodes/financialinstrumentsymboltype is recommended.
* `symbol`: Symbol identifier, including ticker symbols. We recommend using this sub-property.
* `ticker`: Ticker symbol used for the financial instrument (string). This sub-property is allowed but deprecated. +
!array

!contactinfo
!Contact and/or location information for the organisation as a ContactInfo structure.
!<<Contact Info structure>>

!===

|array

|places
|An array of named locations. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the place
!string

!rel
!The relationship of the content of the news object to the place
!string

!uri
!The identifier for the place as a complete uri
!URI

!literal
!The code for the place as a literal
!string

!contactinfo
!Contact and/or location information for the place as a ContactInfo structure.
!<<Contact Info structure>>

!geojson
!An object holding geo data of this place. From ninjs 2.0 onwards, the
contents of this object must conform to
https://geojson.org/schema/GeoJSON.json[the GeoJSON format] defined in
https://datatracker.ietf.org/doc/html/rfc7946[RFC 7946].

!object

!===

|array

|subjects
|An array of objects holding concepts with a relationship to the content. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the subject
!string

!rel
!The relationship of the content of the news object to the subject
!string

!uri
!The identifier of the subject as a complete uri
!URI

!literal
!The code for the subject as a string literal
!string

!creator
!Specifies which entity (person, organisation or system) that has created or last edited the property.
!string

!relevance
!The relevance of the metadata to the news content to which it is attached.
!integer (range 0-100)

!confidence
!The confidence with which the metadata has been assigned.
!integer (range 0-100)
!===
|array

|events
|An array of objects describing something which happens in a planned or unplanned manner. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the event
!string

!rel
!The relationship of the content of the news object to the event
!string

!uri
!The identifier for the event as a complete uri
!URI

!literal
!The code for the event as a string literal
!string
!===

|array

|objects
|An array of objects describing something material, excluding persons. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the object
!string

!rel
!The relationship of the content of the news object to the object
!string

!uri
!The identifier for the object as a complete uri
!URI

!literal
!The code for the object as a string literal
!string
!===

|array

|infosources
|An array of parties (person or organisation) which originated, modified, enhanced, distributed, aggregated or supplied the content or provided some information used to create or enhance the content. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!name
!The name of the infosource
!string

!role
!The role the infosource in relationship to the content as a uri.
!string

!uri
!The identifier of the infosource as a complete uri
!URI

!literal
!The code for the infosource as a string literal
!string

!contactinfo
!Contact and/or location information for the info source as a ContactInfo structure.
!<<Contact Info structure>>

!===

|array

|trustindicators
|An array of objects to allow links to documents about trust indicators, intended to show
the trustworthiness of the news provider. +
This property is an array of objects with the following properties:

[cols="3"]
!===
!Property name!Description!Data type

!role
!The role of the trust indicator as a complete uri, such as `http://cv.iptc.org/newscodes/trustindicator/editorialPolicy`
!URI

!href
!The URL for accessing the trust indicator resource, such as `https://www.bbc.com/editorialguidelines/`
!string

!title
!The name of the resource being referenced, such as `BBC Editorial Guidelines`
!string
!===

|array


|===

==== Contact Info structure

The Contact Info structure is used for the contents of the `contactinfo` property in items in the `people`, `organisations`, `places` and `infosources` arrays.

[cols="1,3a,1",options="header"]
|===
|Property name|Description|Data type

|type
a|Type would be method of communication like phone, mobile, address etc.
|string

|role
a|Role refers to type and could be private, office etc
|string

|lang
a|If this contactinfo object need to be qualified with what language it is in. The value should follow IETF BCP47.
|string

|name
|Human readable name of the contact method, like name for a web page, name of persons twitter account etc
|string

|value
|Actual phone number, email address, web url etc.
|string

|address
|The address of a person, place or organisation.
This property is an object with the following child properties:

[cols="3"]
!===
!Property name!Description!Data type

!lines
!An array of lines to construct an address. The order is important to construct a correct address.
!array

!locality
!A city/town/village etc. part of the address.
!string

!area
!A subdivision of a country part of the address.
!string

!postalcode
!A postal code part of the address.
!string

!country
!A country part of the address.
!string
!===

|object
|===

=== Renditions

The `renditions` property is a wrapper for different renditions of content of the news object, such as articles, images, videos or PDF documents.

It contains a set of one or more keys, each with a name and an object as the value. The name can be any text or numbers, and should represent a given rendition type such as "thumbnail" or "preview". The object should include the below properties.

==== Properties of renditions

[%autowidth,options="header"]
|===
|Property name|Description|Data type
|name|The name of this object in the array of renditions. Required|string
|href|The URL for accessing the rendition as a resource|URI
|contenttype|A media type which applies to the rendition|string
|title|A title for the link to the rendition resource|string
|height|For still and moving images: the height of the display area measured in pixels|number
|width|For still and moving images: the width of the display area measured in pixels|number
|sizeinbytes|The size of the rendition resource in bytes|number
|duration|The total time duration of the content in seconds|number
|format|Binary format name|string
|===

==== Renditions example

[source,json]
----
include::includes/examples/002_renditions_example.json[]
----

=== Associations

The `associations` property contains associated valid ninjs objects, each with a *required* `name` explaining the nature of the association.

This can be used to link news items together, or to associate images with a text story, for example.

==== Associations example

This example shows a press release. The body of the story is in the single object in the `bodies` property. A logo and an image are associated to the story. Both the logo and the image have two renditions, a "thumbnail" and a "highres" version.

[source,json]
----
include::includes/examples/003_associations_example.json[]
----

== ninjs Examples

=== Text-only examples

==== A simple text article

Key features:

* A `uri` must be present as an identifier for this content
* `type` indicates that the generic content type is 'text'
* `by` and `headlines` are typical text news metadata
* The text of article itself is represented by `bodies`, in two format variants: plain text and HTML.

[source,json]
----
include::includes/examples/004_simple_text_article.json[]
----

==== A more complex example

* Metadata about the content are added to the example above.
* `person`, `place` and `organisation` employ a structure which provides human readable names for the entity but also machine readable identifiers by the `scheme` and `code` properties. 

[source,json]
----
include::includes/examples/005_complex_text_article.json[]
----

==== More Examples on GitHub

You can find more examples of ninjs representations of text-based news releases
in the https://github.com/iptc/newsinjson/tree/main/examples[ninjs GitHub
repository].

=== Photo-only example

A simple photo-only example.

Key features:

* A "uri" must be present
* "type" indicates that the generic content type is 'a picture'
* "by", "headlines", "descriptions" (in plain text and HTML format) are typical photo metadata
* The image itself is represented by "renditions". Two are available in this example: a main version and a small version.

[source,json]
----
include::includes/examples/006_photo_only.json[]
----

=== Multimedia example

Example for multimedia content.

The ninjs object includes:

* text news as main object
* a main picture illustrating the text news (in ninjs terms: associated with the text news)
* a portrait of a person the text news is about (also: associated)

[source,json]
----
include::includes/examples/007_multimedia.json[]
----

== ninjs Best Practices and How Tos

Here we describe some best practices for working with ninjs in your own organisation.

=== Best Practice for identifying objects in arrays

The first generation of ninjs used patternproperties to identify and name bodies, headlines etc. With 2.0 these are now arrays of objects. If you, for example, only have one headline you only need to use the value property. If there are more than one headline you can use the role and/or contenttype properties to convey to the receivers of your items what each object is meant for and what format it has.

=== How to escape XML content for inclusion in JSON objects

JSON string values cannot contain characters: `"`, `\`, and various control characters like tabs. Therefore, we need to escape these characters in our content when marshaling data into JSON objects. We have provided an XSL stylesheet to do this using XSL.

The XSL Template at
https://raw.githubusercontent.com/iptc/newsinjson/master/tools/xslt/nitf-to-json.xslt
extracts the body of an NITF document (NITF samples are available from https://iptc.org/standards/nitf/using-nitf/) and creates a simple JSON object.
The resulting object is not yet a valid ninjs object, however it will be valid JSON.

=== How to create provider-specific extensions

In some cases, your news releases may have content that does not fit into the
objects that are defined in the ninjs standard. In these cases, you can (and
should) copy and extend the IPTC ninjs schema.

To do this, do the following:

. make a copy of the schema file
. change the URL of the "id" property of IPTC's ninjs 2.1 ...
+
[source,json]
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "id" : "http://www.iptc.org/std/ninjs/ninjs-schema_2.1.json#",
  "type" : "object",
  ...
+
to your own ID, for example `example.com-ninjs-0.1`:
+
[source,json]
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "id" : "http://www.example.com/extended-ninjs-schema_0.1.json#",
  "type" : "object",
  ... 
+
. add your own properties to your copy of the schema. For example, to add a
property explaining the reason for an embargo:
+
[source,json]
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "id" : "http://www.example.com/extended-ninjs-schema_0.1.json#",
  "type" : "object",
  ...
  "embargoed": {
    "title": "Embargoed",
    "description": "The date and time before which all versions of the news object are embargoed. If absent, this object is not embargoed. nar:embargoed",
    "type": "string",
    "format": "date-time"
  },
  "embargoedreason" : {
    "description" : "Textual description of why article is embargoed.",
    "type" : "string"
  },
  ...
+
. save your new schema to a location where users of the schema can access it,
which should be the same as the URL used for the "id" property. For the example
above, the file should be accessible at
http://www.example.com/e-ninjs-schema_0.1.json

This is an example ninjs document that includes the added property giving the
reason for the embargo in an extended ninjs document:

[source,json]
----
include::includes/examples/not-valid/008_extension.json[]
----

==== Using `standard`

With the `standard` field, providers can indicate in each JSON file exactly
which schema the file is valid against. So the above example of extending the
schema could be shown like this:

[source,json]
{
  "uri": "http://ninjs.example.com/newsitems/20130709simp123",
  "standard": {
      "name": "e-ninjs-schema",
      "schema" : "http://www.example.com/e-ninjs-schema_0.1.json",
      "version" : "0.1"
  },
  "type": "text",
  "versioncreated": "2013-07-09T10:37:00Z",
  "embargoed": "2013-07-09T14:00:00Z",
  "embargoedreason": "The nomination is made public at this time."
  ...
}

== Tools for developing with ninjs

=== Validating a ninjs document

JSON Schema is the de-facto standard for validating JSON documents. The IPTC
maintains schemas for each version of the ninjs standard. These schemas can be
used to validate ninjs documents. 

The latest IPTC ninjs schema is available for download at
https://iptc.org/std/ninjs/ninjs-schema_2.1.json

=== Sample Code

Sample code demonstrating how to validate ninjs documents, along with example
ninjs documents, can be found in the
https://github.com/iptc/newsinjson[IPTC newsinjson github repository].

=== Online "ninjs generator" tool

The IPTC has created a simple form-based tool that can be used to generate
sample ninjs documents. It supports both ninjs 1.5 and ninjs 2.1.

The tool can be accessed at https://iptc.org/std/ninjs/generator/.

=== TypeScript type definition

Ian Young of PA Media Group has created a 
https://www.npmjs.com/package/@pa-media-group/iptc-ninjs-2-type[TypeScript type for ninjs 2] that can be used to ease development with ninjs in TypeScript.

== Mapping between ninjs and NewsML-G2

ninjs and NewsML-G2 are not intended to be equivalent to each other, but they
both adhere to the https://www.iptc.org/standards/news-architecture/[IPTC News
Architecture], so they share many properties.

Here is a summary of the properties shared by ninjs and NewsML-G2:

[%autowidth,options="header"]
|===
|ninjs 2.x property name|NewsML-G2 equivalent
|uri|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#identification-and-versioning[nar:newsItem@guid]
|type|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#item-class-itemclass[nar:itemClass]
|title|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#item-title[nar:itemMeta/title]
|altids|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#alternative-identifier-altid[nar:altId]
|profile|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#profile-profile[nar:profile]
|version|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#identification-and-versioning[nar:newsItem@version]
|firstcreated|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#date-first-created---firstcreated[nar:firstCreated]
|versioncreated|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#date-version-created---versioncreated[nar:versionCreated]
|expires|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#expires[nar:expires]
|embargoed|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#date-item-embargo-ends-embargoed[nar:embargoed]
|pubstatus|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#publish-status-pubstatus[nar:pubStatus]
|urgency|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#urgency-urgency[nar:urgency]
|ednote|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#editorial-note[nar:edNote]
|language|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#language-language[nar:language]
|copyrightholder|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#rights-information[nar:copyrightHolder]
|copyrightnotice|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#rights-information[nar:copyrightnotice]
|usageterms|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#usage-terms-usageterms[nar:usageTerms]
|rightsinfo|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#rights-information[nar:rightsInfo]
|headlines|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#headline-headline[nar:headline] with @role
|headlines@contenttype|nar:contentType
|slugline|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#slugline-slugline[nar:slugline]
|by|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#by---by[nar:by]
|bodies|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#newsitem-content[nar:data or nar:inlineXML]
|bodies@charcount|nar:charcount
|bodies@wordcount|nar:wordcount
|bodies@contenttype|nar:contentType
|descriptions|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#description-description[nar:description]
|descriptions@contenttype|nar:contentType
|located|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#located-located[nar:located]
|genre|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#genre-genre[nar:genre]
|person|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#subject-subject[nar:subject]
|organisation|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#subject-subject[nar:subject]
|place|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#subject-subject[nar:subject]
|subject|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#subject-subject[nar:subject]
|object|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#subject-subject[nar:subject]
|infosource|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#information-source-infosource[nar:infoSource]
|trustindicator|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#item-links[nar:link] with @rel
|renditions|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#remote-content-remotecontent[nar:remoteContent]
|renditions@href|nar:remoteContent@ref
|renditions@contenttype|nar:remoteContent@contenttype
|renditions@height|nar:remoteContent@height
|renditions@width|nar:remoteContent@width
|renditions@format|nar:remoteContent@format
|renditions@duration|nar:remoteContent@duration
|associations|https://www.iptc.org/std/NewsML-G2/2.31/specification/NewsML-G2-2.31-specification.html#item-links[nar:link]
|===

== ninjs Revision History

=== ninjs 1.0

https://iptc.org/std/ninjs/ninjs-schema_1.0.json[Version 1.0 of the ninjs schema] was approved by the IPTC Standards Committee on 23 October 2013.

=== ninjs 1.1

https://iptc.org/std/ninjs/ninjs-schema_1.1.json[Version 1.1 of the ninjs schema] was made available in March 2014.

Version 1.1 moved to JSON Schema version 4, and added the `urgency`, `usageterms` and `geometry_*` properties.

An error in the association reference URI in the version 1.1 JSON Schema document was corrected in September 2017.

=== ninjs 1.2

https://iptc.org/std/ninjs/ninjs-schema_1.2.json[Version 1.2 of the ninjs schema] was approved by the IPTC Standards Committee and made available in October 2019.

Version 1.2 added the `firstcreated`, `charcount`, `wordcount`, `slugline`, `ednote`, `infosource`, `title` and `slugline` properties. It also added the value `component` under type. It changed the description of the `renditions` property and added sub-properties `duration` and `format`.

=== ninjs 1.3

https://iptc.org/std/ninjs/ninjs-schema_1.3.json[Version 1.3 of the ninjs schema] was approved by the IPTC Standards Committee and made available in May 2020.

Version 1.3 added the `headline_`, `altids`, `trustindicator`, `$standard` and `genre` properties. 

=== ninjs 1.4

https://iptc.org/std/ninjs/ninjs-schema_1.4.json[Version 1.4 of the ninjs schema] was approved by the IPTC Standards Committee in May 2022. It contains new fields _contentcreated_, _expires_ and _rightsinfo_.

=== ninjs 1.5

https://iptc.org/std/ninjs/ninjs-schema_1.5.json[Version 1.5 of the ninjs schema] was approved by the IPTC Standards Committee in May 2023. It includes the new `contactInfo` type which can be applied to the `person`, `organisation`, `place` and `infosource` properties. ninjs 1.5 also includes the new `symboltype` and `symbol` properties under `symbols`, and new properties `creator`, `relevance` and `confidence` under `subject`. Use of `ticker` under `symbols` is now deprecated.

In addition, some changes to the schema were made to fix a validation bug in previous versions. In order to accommodate these changes, the ninjs 1.5 schema uses the `http://json-schema.org/draft-07/schema#` version of JSON Schema.

=== ninjs 2.0

https://iptc.org/std/ninjs/ninjs-schema_2.0.json[Version 2.0 of the ninjs schema] was approved by the IPTC Standards Committee and made available in October 2021.

Many changes were made for Version 2.0, some of them breaking backwards compatibility:

* `headline_*` changed to `headlines`
* `body_*` changed to `bodies`
* `description_*` changed to `descriptions`
* `altid_*` changed to `altids`
* `byline` changed to `by` to become more consistent with IPTC News Architecture and NewsML-G2
* `person` changed to `people`
* `organisation` changed to `organisations`
* `place` changed to `places`
* `event` changed to `events`
* `object` changed to `objects`
* `infosource` changed to `infosources`
* `trustindicator` changed to `trustindicators`
* `infosource/rel` changed to `infosource/role` to be more consistent with other properties and the IPTC News Architecture
* all metadata properties now use URIs with an optional literal instead of schemes and codes
* Clarified definition of `uri`
* Removed `mimetype` property
* Added `contentcreated` property
* Changed `representationtype` enum values from _complete_ and _incomplete_ to _full_ and _partial_
* `charcount` and `wordcount` moved to properties of `bodies` elements
* `$standard" changed to "standard"
* Added a new `rightsinfo` property with either `linkedrights` or `embeddedrights` as a child property

An errata release of 2.0 in May 2022 fixed a problem with the GeoJSON property in the `places` object.

=== ninjs 2.1

https://iptc.org/std/ninjs/ninjs-schema_2.1.json[Version 2.1 of the ninjs schema] was approved by the IPTC Standards Committee in May 2023 and made available in June 2023.

ninjs 2.1 includes the new `contactInfo` type which can be applied to the `people`, `organisations`, `places` and `infosources` properties. ninjs 2.1 also includes the new `symboltype` and `symbol` properties under `symbols`, and new properties `creator`, `relevance` and `confidence` under `subjects`. The `ticker` sub-property under `symbols` is now deprecated.

In addition, some changes to the schema were made to fix a validation bug in previous versions. In order to accommodate these changes, the ninjs 2.1 schema uses the `https://json-schema.org/draft/2020-12/schema` version of JSON Schema.

== Additional Resources

=== On the Web

The IPTC web site https://www.iptc.org[www.iptc.org] has a wealth of resources for implementers. The page https://www.iptc.org/standards[www.iptc.org/standards] summarises all of the IPTC's standards and provides links to further resources for each, including https://www.iptc.org/standards/ninjs/[ninjs], https://www.iptc.org/standards/newsml-g2/[NewsML-G2], https://www.iptc.org/standards/sportsml-g2/[SportsML-G2] and https://www.iptc.org/standards/rightsml/[RightsML].

There are also user groups at Groups.io for all those seeking answers to questions about ninjs or other IPTC standards, and for those who would like to participate in development work:

* https://groups.io/g/iptc-ninjs/ is the public group for discussing ninjs and other representations of news content in the JSON format.

* https://groups.io/g/iptc-newsml-g2/ is the public group for NewsML-G2 and Events in NewsML-G2 topics.

* Staff from IPTC Member organisations are welcome to join the 
https://groups.io/g/iptc-news-in-json-dev[members-only discussion list for the ninjs development team].

=== Join the IPTC

The IPTC welcomes new members. Membership is the backbone of the IPTC, and levels vary for both organisations and individuals. Additionally, several "working parties" and "working groups" focus on specific topic areas and standards. IPTC also hosts two face-to-face meetings a year around the globe, where its working parties discuss and develop their ideas to support information exchange and the rapid innovation of media.

To find out more, visit https://www.iptc.org/participate
